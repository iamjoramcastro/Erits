<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Birthday Surprise!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        .font-great-vibes {
            font-family: 'Great Vibes', cursive;
        }

        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden;
        }

        #surpriseButton {
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        #surpriseButton:hover {
            transform: scale(1.1) rotate(-5deg);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
        }
        #surpriseButton.clicked {
            transform: scale(0);
            opacity: 0;
        }

        #birthdayScene {
            opacity: 0;
            transition: opacity 1s ease-in-out;
            animation: fadeInScene 1s forwards 1s;
        }

        @keyframes fadeInScene {
            to { opacity: 1; }
        }

        .cake {
            position: relative;
            width: 250px;
            height: 200px;
            transform-style: preserve-3d;
            perspective: 1000px;
            filter: drop-shadow(0px 15px 15px rgba(0,0,0,0.4));
        }
        .layer {
            position: absolute;
            width: 100%;
            height: 33.33%;
            border: 2px solid rgba(255,255,255,0.7);
            box-shadow: 
                inset 0 2px 4px rgba(0,0,0,0.2), 
                0 10px 20px rgba(0,0,0,0.3);
            border-radius: 50% / 20%;
            animation: riseUp 2s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
            opacity: 0;
        }
        .top { top: 0; background-image: linear-gradient(to top, #e74c3c, #c0392b); z-index: 3; }
        .middle { top: 33.33%; background-image: linear-gradient(to top, #3498db, #2980b9); z-index: 2; animation-delay: 0.5s; }
        .bottom { top: 66.66%; background-image: linear-gradient(to top, #2ecc71, #27ae60); z-index: 1; animation-delay: 1s; }
        .icing {
            position: absolute;
            top: 15%;
            left: 5%;
            width: 90%;
            height: 40px;
            background-image: linear-gradient(to top, #ffffff, #ecf0f1);
            border-radius: 50% / 20px;
            z-index: 4;
            opacity: 0;
            animation: riseUp 2s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards 1.5s;
            box-shadow: inset 0 2px 3px rgba(0,0,0,0.1);
        }
        @keyframes riseUp {
            from { transform: translateY(100px) scale(0.5); opacity: 0; }
            to { transform: translateY(0) scale(1); opacity: 1; }
        }

        .candle {
            position: absolute;
            width: 12px;
            height: 45px;
            background: repeating-linear-gradient(-45deg, #e74c3c, #e74c3c 5px, #f1c40f 5px, #f1c40f 10px);
            border-radius: 6px 6px 0 0;
            top: -30px;
            z-index: 5;
            opacity: 0;
            animation: growIn 1s forwards;
        }
        .candle:nth-child(1) { left: 20%; animation-delay: 2.5s; }
        .candle:nth-child(2) { left: 45%; top: -40px; animation-delay: 2.8s; }
        .candle:nth-child(3) { left: 70%; animation-delay: 3.1s; }

        @keyframes growIn {
            from { transform: scaleY(0); opacity: 0; }
            to { transform: scaleY(1); opacity: 1; }
        }

        .flame {
            position: absolute;
            width: 12px;
            height: 25px;
            background-color: #f1c40f;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            top: -25px;
            transform-origin: 50% 100%;
            animation: flicker 1.2s ease-in-out infinite, flameGlow 1.5s infinite;
            box-shadow: 0 0 10px #f1c40f, 0 0 20px #f1c40f, 0 0 5px #e74c3c;
        }
        .flame::before {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 10px;
            background: #3498db;
            border-radius: 50% 50% 50% 50% / 80% 80% 20% 20%;
            filter: blur(2px);
        }

        @keyframes flicker {
            0%, 100% { transform: scaleY(1) skewX(0); }
            25% { transform: scaleY(1.05) skewX(5deg); }
            75% { transform: scaleY(0.95) skewX(-5deg); }
        }
        @keyframes flameGlow {
            0%, 100% { box-shadow: 0 0 10px #f1c40f, 0 0 20px #f1c40f, 0 0 5px #e74c3c; }
            50% { box-shadow: 0 0 15px #f1c40f, 0 0 25px #f1c40f, 0 0 10px #e74c3c; }
        }

        #birthdayMessage h1 {
            animation: textGlow 3s infinite alternate;
        }
        #birthdayMessage {
            opacity: 0;
            transform: translateY(50px) scale(0.5);
            animation:showMessage 2s cubic-bezier(0.18, 0.89, 0.32, 1.28) forwards 4s;
        }
        @keyframes showMessage {
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        @keyframes textGlow {
            from {
                text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #f7dc6f, 0 0 40px #f7dc6f;
            }
            to {
                text-shadow: 0 0 20px #fff, 0 0 30px #f8c471, 0 0 40px #f8c471, 0 0 50px #f8c471;
            }
        }

        #fireworksContainer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            opacity: 1;
        }
        .rocket {
            position: absolute;
            width: 3px;
            height: 10px;
            background-color: white;
            border-radius: 2px;
            box-shadow: 0 0 5px white;
        }
        
        #messagesContainer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
            overflow: hidden;
        }

        .balloon-container {
            position: absolute;
            bottom: -200px;
            animation: floatUp forwards ease-in;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .balloon {
            width: 70px;
            height: 90px;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            position: relative;
            box-shadow: inset -10px -10px 0 rgba(0,0,0,0.1);
        }
        .balloon::before {
            content: '';
            position: absolute;
            top: 10%;
            left: 10%;
            width: 25%;
            height: 40%;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            filter: blur(5px);
        }
        
        .rope {
            width: 2px;
            height: 80px;
            background-color: #fff5;
        }
        
        .message-text {
            color: white;
            text-shadow: 0 0 5px #000, 0 0 10px #f063a4;
            white-space: nowrap;
            font-size: 1.75rem;
            padding: 5px 10px;
            border-radius: 10px;
        }


        @keyframes floatUp {
            to {
                transform: translateY(-120vh);
                opacity: 0;
            }
        }

    </style>
</head>
<body class="bg-gray-900 text-white flex items-center justify-center min-h-screen transition-all duration-[3000ms]">

    <button id="surpriseButton" class="bg-pink-500 text-white font-bold text-2xl py-6 px-12 rounded-full shadow-lg z-50">
        Click For a Surprise!
    </button>

    <div id="birthdayScene" class="absolute inset-0 flex-col items-center justify-center opacity-0" style="display: none;">
        <div id="birthdayMessage" class="text-center mb-16 z-20">
            <h1 class="font-great-vibes text-8xl md:text-9xl text-yellow-300">Happy Birthday</h1>
            <p class="text-5xl md:text-6xl mt-4 font-bold text-white drop-shadow-[0_2px_5px_rgba(0,0,0,0.5)]">Erits!</p>
        </div>

        <div class="cake z-20">
            <div class="icing"></div>
            <div class="layer top"></div>
            <div class="layer middle"></div>
            <div class="layer bottom"></div>
            <div class="candles">
                <div class="candle"><div class="flame"></div></div>
                <div class="candle"><div class="flame"></div></div>
                <div class="candle"><div class="flame"></div></div>
            </div>
        </div>
    </div>
    
    <div id="messagesContainer"></div>
    <div id="fireworksContainer"></div>

    <script>
        const surpriseButton = document.getElementById('surpriseButton');
        const birthdayScene = document.getElementById('birthdayScene');
        const body = document.body;
        const fireworksContainer = document.getElementById('fireworksContainer');
        const messagesContainer = document.getElementById('messagesContainer');
        let particles = [];
        
        const upliftingMessages = [
            "Happy birthday, Erits!", "Shine Bright, Erits!", "Dream Big, Erits!", "Amping pirmi, Erits!",
            "Wishing You Joy, Erits!", "Im one chat away!", "Amazing Year Ahead!",
            "Daghan pa tag chikahan hehe!", "Dili na maguol2x, Erits!", "Be good always, Erits!",
            "To New Adventures, Erits!", "Chika ta!", "Maglunch jud!",
            "Dapat always positive!", "Dili mag sad2x!", "Be happy, Erits!", "Blossom!"
        ];
        
        const balloonColors = ['#e74c3c', '#3498db', '#2ecc71', '#f1c40f', '#9b59b6', '#e67e22'];


        surpriseButton.addEventListener('click', () => {
            surpriseButton.classList.add('clicked');
            
            body.style.background = 'radial-gradient(circle at center, #4a2d73, #1e1b4b)';

            birthdayScene.style.display = 'flex';
            
            setTimeout(() => {
                startFloatingMessages(12000);
            }, 3000);
            
            setTimeout(() => {
                startFireworks(10000);
                requestAnimationFrame(updateParticles);
            }, 5000);

        });

        function startFireworks(duration) {
            const interval = setInterval(() => {
                createFirework();
            }, 500);

            setTimeout(() => {
                clearInterval(interval);
            }, duration);
        }
        
        function createFirework() {
            const rocket = document.createElement('div');
            rocket.className = 'rocket';
            const startX = window.innerWidth * (0.2 + Math.random() * 0.6);
            rocket.style.left = `${startX}px`;
            rocket.style.bottom = 0;
            fireworksContainer.appendChild(rocket);
            
            const endY = window.innerHeight * (0.1 + Math.random() * 0.4);
            const duration = 1000 + Math.random() * 1000;

            rocket.animate([
                { bottom: '0px', opacity: 1 },
                { bottom: `${endY}px`, opacity: 0.5 }
            ], {
                duration: duration,
                easing: 'ease-out'
            }).onfinish = () => {
                rocket.remove();
                explode(startX, window.innerHeight - endY);
            };
        }

        function explode(x, y) {
            const particleCount = 100;
            const hue = Math.random() * 360;

            for (let i = 0; i < particleCount; i++) {
                const particleEl = document.createElement('div');
                particleEl.className = 'particle';
                particleEl.style.backgroundColor = `hsl(${hue + (Math.random() * 60 - 30)}, 100%, ${Math.random() * 50 + 50}%)`;
                fireworksContainer.appendChild(particleEl);

                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 5 + 2;

                particles.push({
                    el: particleEl,
                    x: x,
                    y: y,
                    vx: Math.cos(angle) * speed * (Math.random() * 0.5 + 0.5),
                    vy: Math.sin(angle) * speed * (Math.random() * 0.5 + 0.5),
                    alpha: 1,
                    lifespan: Math.random() * 0.5 + 0.8,
                    gravity: 0.05
                });
            }
        }

        function updateParticles() {
            particles.forEach((p, index) => {
                p.x += p.vx;
                p.y += p.vy;
                p.vy += p.gravity;
                p.lifespan -= 0.015;

                p.el.style.transform = `translate(${p.x}px, ${p.y}px)`;
                p.el.style.opacity = Math.max(0, p.lifespan);

                if (p.lifespan <= 0) {
                    p.el.remove();
                    particles.splice(index, 1);
                }
            });

            if (particles.length > 0) {
                requestAnimationFrame(updateParticles);
            }
        }
        
        function startFloatingMessages(duration) {
            const numLanes = 5;
            const laneWidth = window.innerWidth / numLanes;
            let lastLane = -1;

            const interval = setInterval(() => {
                let lane = Math.floor(Math.random() * numLanes);
                if (lane === lastLane) {
                    lane = (lane + 1) % numLanes;
                }
                lastLane = lane;
                const position = (lane * laneWidth) + (Math.random() * (laneWidth * 0.4)) + (laneWidth * 0.1);
                createFloatingMessage(position);
            }, 1500);

            setTimeout(() => {
                clearInterval(interval);
            }, duration);
        }

        function createFloatingMessage(xPosition) {
            const container = document.createElement('div');
            container.className = 'balloon-container';

            const balloon = document.createElement('div');
            balloon.className = 'balloon';
            balloon.style.backgroundColor = balloonColors[Math.floor(Math.random() * balloonColors.length)];

            const rope = document.createElement('div');
            rope.className = 'rope';
            
            const messageEl = document.createElement('div');
            messageEl.className = 'message-text font-great-vibes';
            messageEl.textContent = upliftingMessages[Math.floor(Math.random() * upliftingMessages.length)];

            container.appendChild(balloon);
            container.appendChild(rope);
            container.appendChild(messageEl);

            container.style.left = `${xPosition}px`;
            const duration = Math.random() * 8 + 15;
            container.style.animationDuration = `${duration}s`;

            messagesContainer.appendChild(container);

            setTimeout(() => {
                container.remove();
            }, duration * 1000);
        }
    </script>
</body>
</html>